<!doctype html>
<html lang="fr">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">
		<link rel="stylesheet" href="style.css">

		<title>Ft_transcendence</title>
	</head>
	<body>
		<header>
			<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
				<div class="container">
					<div class="justify-content-start">
						<a class="narbar-brand text-decoration-none" href="#" onclick="hideAllContentDivs();document.getElementsByClassName('content-home')[0].style.display='block';">
							<img src="img/logo.png" alt="logo" width="40" height="40">
							<span class="text-white">Ft_transcendence</span>
						</a>
					</div>
					<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown">
						<span class="navbar-toggler-icon"></span>
					</button>
					<div class="collapse navbar-collapse justify-content-center" id="navbarNavDropdown">
						<ul class="navbar-nav">
							<li class="nav-item dropdown">
								<a class="nav-link dropdown-toggle active" href="#" id="navbarNavDropdownMenuLink" role="button" data-bs-toggle="dropdown">
									Solo
								</a>
								<ul class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink">
									<li><a class="dropdown-item" href="#myGame" onclick="hideAllContentDivs();onClickEasy();document.getElementsByClassName('content-game')[0].style.display='block';">Facile</a></li>
									<li><a class="dropdown-item" href="#myGame" onclick="hideAllContentDivs();onClickMedium();document.getElementsByClassName('content-game')[0].style.display='block';">Moyen</a></li>
									<li><a class="dropdown-item" href="#myGame" onclick="hideAllContentDivs();onClickHard();document.getElementsByClassName('content-game')[0].style.display='block';">Difficile</a></li>
								</ul>
							</li>
							<li class="nav-item text-white">
								<a class="nav-link" href="#" onclick="hideAllContentDivs();document.getElementsByClassName('content-duo')[0].style.display='block';">Duo</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#" onclick="hideAllContentDivs();document.getElementsByClassName('content-tournament')[0].style.display='block';">Tournoi</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#" id="statsMenuButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-stat')[0].style.display='block';">Stats</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#" id="profileMenuButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-profile')[0].style.display='block';">Profil</a>
							</li>
							<li class="nav-item">
								<a class="nav-link" href="#" id="blockchainMenuButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-blockchain')[0].style.display='block';">Blockchain</a>
							</li>
						</ul>
					</div>
					<div class="collapse navbar-collapse justify-content-end" id="navbarNavDropdown">
						<button class="btn btn-outline-light btn-sm" onclick="hideAllContentDivs();onClickEasy();document.getElementsByClassName('content-login')[0].style.display='block';">Se connecter</button>
					</div>
				</div>
			</nav>
		</header>
		<main>
			<div id="home" class="content content-home">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="row align-items-center gy-4">
							<div class="col-6 text-light">
								<h1>Welcome Home!</h1>
								<button id="getRequest" class="btn btn-outline-light mt-5">GET request</button>
								<button id="postRequest" class="btn btn-outline-light mt-5">POST request</button>
							</div>
							<div class="col-6">
								<img src="img/accueil.png" alt="accueil" class="w-100">
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="login" class="content content-login" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<div class="d-flex justify-content-center">
								<div class="col-6 border rounded-2 text-light">
									<div class="btn-group w-100">
										<button type="button" class="btn btn-outline-light" id="logInButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-login')[0].style.display='block';">Connexion</button>
										<button type="button" class="btn btn-outline-light" id="signUpButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-signup')[0].style.display='block';">Inscription</button>
									</div>
									<div class = "p-5">
										<h3 class="text-center mb-4"> Connexion</h3>
										<form class="row gy-4" id="logInForm">
											<div class="form-group">
												<label for="logInUsername" class="form-label">Nom d'utilisateur *</label>
												<input type="text" class="form-control" name="logInUsername" id="logInUsername" maxlength="15">
											</div>
											<div class="form-group">
												<label for="logInPassword" class="form-label">Mot de passe *</label>
												<input type="password" class="form-control" name="logInPassword" id="logInPassword" maxlength="15">
											</div>
											<div class="d-flex align-items-center flex-column">
												<button type="button" class="btn btn-outline-light mb-3 py-2 w-100" onclick="logIn()">Se connecter</button>
												<button type="button" class="btn btn-outline-light w-100" onclick="logInWith42()">Se connecter avec <img src="img/42_Logo.png" alt="42" width="30" height="30"></button>
											</div>
										</form>
										<p class="text-light text-center mt-4" id="logInOutput"></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="signup" class="content content-signup" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<div class="d-flex justify-content-center">
								<div class="col-6 border rounded-2 text-light">
									<div class="btn-group w-100">
										<button type="button" class="btn btn-outline-light" id="logInButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-login')[0].style.display='block';">Connexion</button>
										<button type="button" class="btn btn-outline-light" id="signUpButton" onclick="hideAllContentDivs();document.getElementsByClassName('content-signup')[0].style.display='block';">Inscription</button>
									</div>
									<div class = "p-5">
										<h3 class="text-center mb-4">Inscription</h3>
										<form class="row gy-4" id="signUpForm">
											<div class="form-group">
												<label for="signUpUsername" class="form-label">Nom d'utilisateur *</label>
												<input type="text" class="form-control" name="signUpUsername" id="signUpUsername" maxlength="15">
											</div>
											<div class="form-group">
												<label for="signUpPassword" class="form-label">Mot de passe *</label>
												<input type="password" class="form-control" name="signUpPassword" id="signUpPassword" maxlength="15">
											</div>
											<div class="d-flex flex-item-center">
												<button type="button" class="btn btn-outline-light w-100" onclick="signUp()">S'inscrire</button>
											</div>
										</form>
										<p class="text-light text-center mt-4" id="signUpOutput"></p>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="profile" class="content content-profile" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<h2 class="text-dark mb-4">Profil</h2>
							<div class="d-flex justify-content-center">
								<div class="col-8 border rounded-2 p-5 text-light">
									<div class=row>
										<h2 class="text-center" id="usernameProfileOutput"></h2>
									</div>
									<div class="row">
										<div class="col">
											<form action="upload.php" method="POST" enctype="multipart/form-data">
												<div class="d-flex image position-relative">
													<img src="img/default_avatar.png" class="img-fluid rounded-5" alt="avatar" width="200" height="200" id="avatarImg">
													<label for="filePath" class="position-relative">
														<div id="cameraIcon" class="bg-primary rounded-circle d-flex justify-content-center align-items-center position-absolute" style="width: 40px; height: 40px; top: 0; right: 0; transform: translate(-25%, 25%) rotate(45deg);">
															<i class="bi bi-camera-fill" style="transform: rotate(-45deg);"></i>
														</div>
													</label>
												</div>
												<input type="file" class="d-none" id="filePath" name="file" accept="image/jpeg, image/png, image/jpg">
											</form>
										</div>
										<div class="col d-flex flex-column justify-content-center">
											<h5 class="text-center" id="victoriesProfileOutput"></h5>
											<h5 class="text-center" id="defeatsProfileOutput"></h5>
										</div>
									</div>
									<div class="row">
										<h4 class="mt-5 mb-3 text-center">Ajouter des amis</h4>
										<input type="search" id="searchInputProfile" placeholder="Recherche" onkeyup="searchProfileNow()"/>
										<div>
											<ul id="addFriendOutput"></ul>
										</div>
										<h4 class="text-center">Liste d'amis</h4>
										<div>
											<ul id="friendsList"></ul>
										</div>
									</div>
									<div class="d-flex justify-content-center">
										<button class="btn btn-outline-light">Se connecter avec <img src="img/42_Logo.png" alt="42" width="30" height="30"></button>
									</div>
								</div>
							</div>
							<div class="mt-3 d-flex justify-content-center">
								<div class="col-8 border rounded-2 p-5 text-light">
									<h3 class="text-center mb-4"> Informations personnelles</h3>
									<form class="row gy-4" id="updateUsernameForm">
										<div class="form-group row mt-3">
											<label for="staticUsername" class="col-sm-4 col-form-label">Nom d'utilisateur actuel</label>
											<div class="col-sm-8">
												<input type="text" readonly class="form-control-plaintext text-light" id="staticUsername" value="Player">
											</div>
										</div>
										<div class="form-group row mt-3">
											<label for="inputNewUsername" class="col-sm-4 col-form-label">Nouveau nom d'utilisateur</label>
											<div class="col-sm-8">
												<input type="text" class="form-control" id="inputNewUsername" placeholder="Nom d'utilisateur" maxlength="15">
											</div>
										</div>
										<div class="d-flex justify-content-end">
											<button class="btn btn-outline-light me-4" role="button">Changer de nom d'utilisateur</button>
										</div>
									</form>
									<p class="text-light text-center mt-4" id="updateUsernameOutput"></p>
									<form class="row gy-4" id="updatePasswordForm">
										<div class="form-group row mt-3">
											<label for="inputOldPassword" class="col-sm-4 col-form-label">Ancien mot de passe</label>
											<div class="col-sm-8">
												<input type="password" class="form-control" id="inputOldPassword" placeholder="Mot de passe" maxlength="15">
											</div>
										</div>
										<div class="form-group row mt-3">
											<label for="inputNewPassword" class="col-sm-4 col-form-label">Nouveau mot de passe</label>
											<div class="col-sm-8">
												<input type="password" class="form-control" id="inputNewPassword" placeholder="Mot de passe" maxlength="15">
											</div>
										</div>
										<div class="d-flex justify-content-end">
											<button class="btn btn-outline-light me-4" role="button">Changer de mot de passe</button>
										</div>
									</form>
									<p class="text-light text-center mt-4" id="updatePasswordOutput"></p>
								</div>
							</div>
\						</div>
					</div>
				</section>
			</div>
			<div id="game" class="content content-game" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="container">
							<div class="py-5 text-light">
								<h2>Pong</h2>
							</div>
								<button class="btn btn-outline-light m-3" id="nextMatchButton">
									Partie suivante
								</button>
								<button class="btn btn-outline-light m-3" id="leaderboardButton">
									Leaderboard
								</button>
								<div class="p-3 m-3 bg-light border rounded">
									<h3 class="text-center" id="nextMatchOutput"></h3>
									<h3 class="text-center" id="leaderboardOutput"></h3>
								</div>
						</div>
						<div class="d-flex justify-content-center" id="myGame">
							<canvas style="margin-top:56px;" class="bg-light" id="myCanvas"></canvas>
						</div>
						<div class="container">
							<div class="row">
								<div class="col-6 d-flex flex-column justify-content-start align-items-center text-light fw-bold">
									<div class="border rounded-2 mt-2 p-2"><h2>A</h2></div>
									<p>Monter</p>
								</div>
								<div class="col-6 d-flex flex-column justify-content-end align-items-center text-light fw-bold">
									<div class="border rounded-2 mt-2 p-2"><h2>&uarr;</h2></div>
									<p>Monter</p>
								</div>
							</div>
							<div class="row">
								<div class="col-6 d-flex flex-column justify-content-start align-items-center text-light fw-bold">
									<div class="border rounded-2 mt-2 p-2"><h2>Z</h2></div>
									<p>Descendre</p>
								</div>
								<div class="col-6 d-flex flex-column justify-content-end align-items-center text-light fw-bold">
									<div class="border rounded-2 mt-2 p-2"><h2>&darr;</h2></div>
									<p>Descendre</p>
								</div>
							</div>
						</div>
						<div class="container">
							<div class="row">
								<div class="col"><div class="d-flex flex-column justify-content-center align-items-center"><div id="player1Stats" class="p-3 bg-light border rounded"></div></div></div>
								<div class="col"><div class="d-flex flex-column justify-content-center align-items-center"><div id="matchStats" class="p-3 bg-light border rounded"></div></div></div>
								<div class="col"><div class="d-flex flex-column justify-content-center align-items-center"><div id="player2Stats" class="p-3 bg-light border rounded"></div></div></div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="duo" class="content content-duo" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<div class="d-flex justify-content-center">
								<div class="border rounded-2 p-5 text-light">
									<h3 class="text-center mb-4"> Mode Duo</h3>
									<form class="row gy-4" id="duoForm">
										<div id="playerInputs">
											<div class="col-12">
												<label for="player1" class="form-label">Surnom *</label>
												<input type="text" class="form-control" name="player1" id="player1" maxlength="15">
											</div>
											<div class="col-12">
												<label for="player2" class="form-label">Surnom *</label>
												<input type="text" class="form-control" name="player2" id="player2" maxlength="15">
											</div>
										</div>
										<div class="d-flex justify-content-center">
											<button type="button" class="btn btn-outline-light w-100" id="duoSubmitButton" onclick="launchDuoMatch()">Jouer</button>
										</div>
									</form>
									<p class="text-light text-center mt-4" id="duoOutputText"></p>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="tournament" class="content content-tournament" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<div class="d-flex justify-content-center">
								<div class="col-8 border rounded-2 p-5 text-light">
									<h3 class="text-center mb-4"> Mode Tournoi</h3>
									<form class="row gy-4" id="tournamentForm">
										<div id="tournamentInputs">
											<div id="playerInputs">
												<div class="col-12">
													<label for="player1" class="form-label">Surnom *</label>
													<input type="text" class="form-control" name="player1" id="player1" maxlength="15">
												</div>
												<div class="col-12">
													<label for="player2" class="form-label">Surnom *</label>
													<input type="text" class="form-control" name="player2" id="player2" maxlength="15">
												</div>
												<div class="col-12">
													<label for="player3" class="form-label">Surnom *</label>
													<input type="text" class="form-control" name="player3" id="player3" maxlength="15">
												</div>
											</div>
										</div>
										<div class="col-4">
											<button type="button" class="btn btn-outline-light w-100" id="addPlayer" onclick="addPlayerToForm()"><i class="bi bi-person-plus-fill" style="font-size: 30px;"></i></button>
											<button type="button" class="btn btn-outline-light w-100" id="removePlayer" onclick="removePlayerFromForm()"><i class="bi bi-person-dash-fill" style="font-size: 30px;"></i></button>
										</div>
										<div class="d-flex justify-content-center">
											<button type="button" class="btn btn-outline-light w-100" id="tournamentSubmitButton" onclick="launchTournament()">Jouer</button>
										</div>
									</form>
									<p class="text-light text-center mt-4" id="tournamentOutputText"></p>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="stat" class="content content-stat" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<div class="container">
								<h2>Statistiques</h2>
								<div class="row">
									<div class="d-flex justify-content-start" id="playerStatsButton">
									</div>
								</div>
								<div class="row mt-5">
									<h4 class="mb-3 text-center">Chercher des utilisateurs</h4>
									<input type="search" id="searchInputPlayer" placeholder="Recherche" onkeyup="searchPlayerNow()"/>
									<div>
										<ul id="playersFoundList"></ul>
									</div>
								</div>
								<div class="row">
									<div class="d-flex justify-content-start">
										<button class="btn btn-outline-light mt-5 mb-5 me-3" id="globalStatsButton">Global</button>
										<div class="dropdown">
											<button class="btn btn-outline-light mt-5 mb-5 me-3 dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
												Modes
											</button>
											<ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
												<li><a class="dropdown-item" id="soloModeStatsButton">Solo</a></li>
												<li><a class="dropdown-item" id="duoModeStatsButton">Duo</a></li>
												<li><a class="dropdown-item" id="tournamentModeStatsButton">Tournoi</a></li>
											</ul>
										</div>
										<button class="btn btn-outline-light mt-5 mb-5 me-3" id="pieChartButton">Pie Chart</button>
										<button class="btn btn-outline-light mt-5 mb-5 me-3" id="barChartButton">Bar Chart</button>
										<button class="btn btn-outline-light mt-5 mb-5 me-3" id="plotChartButton">Plot Chart</button>
										<button class="btn btn-outline-light mt-5 mb-5 me-3" id="historicalStatsButton">Historique</button>
									</div>
								</div>
								<div class="row mt-5">
									<div class="col-12">
										<div id="playerStats" class="p-3 bg-light border rounded">
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
			<div id="blockchain" class="content content-blockchain" style="display:none">
				<section class="py-5 mt-5 bg-dark">
					<div class="container">
						<div class="py-5 text-light">
							<div class="container">
								<div class="d-flex flex-column align-items-center">
									<h2>Afficher un bloc</h2>
									<input type="number" class="btn btn-outline-light mt-3" id="tournamentId" placeholder="Tournament ID">
									<button class="btn btn-outline-light mt-3" id="getTournamentScores">Afficher</button>
									<pre class="mt-3" id="matchesOutput"></pre>
									<pre id="winnerOutput"></pre>
								</div>
							</div>
						</div>
					</div>
				</section>
			</div>
		</main>
		<footer>
		</footer>
		<script src="api.js"></script>
		<script src="form.js"></script>
		<script src="utils.js"></script>
		<script src="chart.js"></script>
		<script src="matchButtons.js"></script>
		<script src="matchStatsView.js"></script>
		<script src="globalStatsView.js"></script>
		<script src="modeStatsView.js"></script>
		<script src="chartStatsView.js"></script>
		<script src="historicalStatsView.js"></script>
		<script src="profileView.js"></script>
		<script src="matchController.js"></script>
		<script src="playerController.js"></script>
		<script src="match.js"></script>
		<script src="tournament.js"></script>
		<script src="player.js"></script>
		<script src="statsMain.js"></script>
		<script src="pongInterval.js"></script>
		<script src="profileMain.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/web3@1.7.5/dist/web3.min.js"></script>
		<script src="blockchain.js"></script>
		<script src="test.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
	</body>
</html>
